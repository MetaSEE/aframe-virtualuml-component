<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual UML - MetaSEE</title>

  <!-- AFRAME -->
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>

  <!-- AFRAME EXTRAS -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>

  <!-- AFRAME SUPER HANDS -->
  <script src="https://unpkg.com/super-hands@^3.0.1/dist/super-hands.min.js"></script>

  <!-- THIRD PARTY AFRAME COMPONENTS -->
  <script src="https://raw.githack.com/andreasplesch/aframe-meshline-component/master/dist/aframe-meshline-component.min.js"></script>

  <!-- OWN AFRAME COMPONENTS -->
  <script src="js/aframe-components/umlclass.js"></script>

</head>
<body>
  <a-scene
    inspector="url: https://cdn.jsdelivr.net/gh/aframevr/aframe-inspector@master/dist/aframe-inspector.min.js"
  >

    <a-entity camera look-controls wasd-controls="acceleration:700" position="-2 -2 2"></a-entity>
    
    <a-sky color="#ECECEC"></a-sky>

    <a-umlclass
      id="class_1"
      position="-2 1 0"
      color="orange"
      association=""
      classname="Class A"
    >
  </a-umlclass>

    <a-umlclass
      id="class_2"
      position="2 -1 0"
      color="orange"
      association="#ass1,#ass2"
      classname="Class B"
    ></a-umlclass>

    <a-umlclass
      id="class_3"
      position="3 2 -2"
      color="orange"
      association="#ass2"
      classname="Class C"
    ></a-umlclass>

    <a-umlclass
      id="class_4"
      position="-3 -2 -2"
      color="orange"
      association="#ass1"
      classname="Class D"
    ></a-umlclass>

    <a-association
      id="ass1"
      start="#class_4"
      end="#class_2"
    ></a-association>

    <a-association
      id="ass2"
      start="#class_2"
      end="#class_3"
    ></a-association>
    
  </a-scene> 
  
  <script>
    // CHANGE ATTRTIBUTE BOX HEIGHT ACCORDING AMOUNT ATT TEXTS
    // function changeHeightAttrBox(testbox, height_for_one_word, words){
    //   // var words = 6;
    //   // var height_for_one_word = 0.2;
    //   var height = height_for_one_word * words;
    //   var posy = - ( (height*words) / ((words*2)+(height_for_one_word*10)));
    //   // var posy = - ( (height*words) / 10);

    //   testbox.object3D.position.y = posy;
    //   testbox.object3D.scale.y = height;

    //   console.log(posy);
    // }

    // var testbox = document.querySelector('#testbox');
    // changeHeightAttrBox(testbox, .2, 6);




    // console.log(document.readyState);
    // console.log(document.querySelector('a-scene').hasLoaded);


    // from https://www.jstips.co/en/javascript/detect-document-ready-in-pure-js/
    // let stateCheck = setInterval(() => {
    //   if (document.readyState === 'complete') {
    //     clearInterval(stateCheck);
    //     // do it something
    //   }
    // }, 100);
  </script>
</body>
</html>